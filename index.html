<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Feli Cunplea침os Diana</title>
  <style>
    :root{
      --bg1:#050814;
      --bg2:#0b1030;
      --txt:#ffffff;
      --glass: rgba(0,0,0,.30);
      --border: rgba(255,255,255,.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      overflow:hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1200px 800px at 50% 30%, #101a55 0%, var(--bg2) 35%, var(--bg1) 75%, #02040e 100%);
      color:var(--txt);
    }
    canvas{
      position:fixed; inset:0;
      width:100vw; height:100vh;
      display:block;
    }

    .overlay{
      position:fixed; inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      text-align:center;
      pointer-events:none;
    }

    .card{
      width:min(760px, 92vw);
      padding:20px 20px 18px;
      border-radius:22px;
      background: var(--glass);
      border: 1px solid var(--border);
      backdrop-filter: blur(10px);
      box-shadow: 0 24px 70px rgba(0,0,0,.55);
    }

    h1{
      margin:0;
      font-size: clamp(30px, 5vw, 66px);
      letter-spacing: .5px;
      line-height:1.05;
      font-weight: 900;
      text-shadow: 0 8px 30px rgba(0,0,0,.65);
    }

    .sub{
      margin-top:10px;
      font-size: clamp(14px, 2.2vw, 18px);
      opacity:.92;
      line-height:1.5;
    }

    .msg{
      margin:14px auto 0;
      max-width: 680px;
      font-size: clamp(14px, 2.1vw, 18px);
      line-height: 1.7;
      opacity:.94;
    }

    .sig{
      margin-top:14px;
      font-size: clamp(13px, 2vw, 16px);
      opacity:.85;
    }

    .hint{
      margin-top: 10px;
      font-size: 13px;
      opacity:.70;
    }

    /* peque침o brillo */
    .shine{
      display:inline-block;
      padding: 2px 10px;
      border-radius:999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
      margin-top: 12px;
      opacity: .9;
    }
  </style>
</head>
<body>
  <canvas id="fx"></canvas>

  <div class="overlay" aria-hidden="true">
    <div class="card">
      <h1>Feli Cunplea침os Diana</h1>

      <div class="sub">
        Hoy el cielo se prende para celebrar a la persona que hace mi vida m치s bonita.
      </div>

      <div class="msg">
        Feliz cumplea침os, mi amor. <br><br>
        Gracias por ser mi fuerza en los d칤as dif칤ciles, mi risa en los d칤as normales y mi motivo en cada meta.
        Te admiro por tu fuerza y por ser una gran guerrera , por tu coraz칩n.
        Deseo que este nuevo a침o te regale salud, sue침os cumplidos, momentos hermosos  y razones de sobra para sonre칤r.<br><br>
        Que nunca te falten abrazos sinceros y besos de nuestra parte y que nada ni nadie quite esa chispa que te hace 칰nica.
        Yo estoy aqu칤, siempre, para celebrarte, apoyarte y amarte.
      </div>

      <div class="sig">
        Con todo mi amor,<br>
        Tu esposo 游눝
        RD Software 游눝
      </div>

      <div class="shine">游꾽 Fuegos artificiales en autom치tico 游꾾</div>
      <div class="hint">Puedes tocar o hacer clic para lanzar m치s fuegos.</div>
    </div>
  </div>

  <script>
    (() => {
      const canvas = document.getElementById('fx');
      const ctx = canvas.getContext('2d', { alpha: true });

      let w = 0, h = 0, dpr = 1;

      // Forzar siempre en auto y con movimiento
      const prefersReducedMotion = false;

      function resize() {
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        w = Math.floor(window.innerWidth);
        h = Math.floor(window.innerHeight);
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        canvas.style.width = w + 'px';
        canvas.style.height = h + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      window.addEventListener('resize', resize, { passive: true });
      resize();

      // Utilities
      const rand = (a, b) => a + Math.random() * (b - a);
      const clamp = (v, a, b) => Math.max(a, Math.min(b, v));
      const hsla = (h, s, l, a) => `hsla(${h}, ${s}%, ${l}%, ${a})`;

      // Particles
      const particles = [];
      const rockets = [];

      // Config
      const gravity = 0.08;
      const air = 0.992;

      const addParticle = (p) => particles.push(p);
      const addRocket = (r) => rockets.push(r);

      function burst(x, y, strength = 1) {
        const baseHue = rand(0, 360);
        const count = Math.floor(rand(70, 130) * strength);
        const sparkle = Math.random() < 0.38;

        for (let i = 0; i < count; i++) {
          const a = rand(0, Math.PI * 2);
          const sp = rand(1.2, 5.1) * strength;
          const hue = (baseHue + rand(-30, 30) + i * 0.25) % 360;

          addParticle({
            x, y,
            vx: Math.cos(a) * sp,
            vy: Math.sin(a) * sp,
            life: rand(50, 110),
            maxLife: 0,
            size: rand(1.2, 2.8) * (sparkle ? 1.1 : 1),
            hue,
            sat: rand(75, 100),
            lum: rand(55, 72),
            alpha: rand(0.75, 1),
            twinkle: sparkle && Math.random() < 0.55,
            trail: Math.random() < 0.28
          });
        }

        // ring extra
        if (Math.random() < 0.18 && !prefersReducedMotion) {
          const ringCount = Math.floor(90 * strength);
          for (let i = 0; i < ringCount; i++) {
            const a = (i / ringCount) * Math.PI * 2;
            addParticle({
              x, y,
              vx: Math.cos(a) * rand(3.0, 5.3) * strength,
              vy: Math.sin(a) * rand(3.0, 5.3) * strength,
              life: rand(40, 80),
              maxLife: 0,
              size: rand(1.0, 2.1),
              hue: (baseHue + 120) % 360,
              sat: 90,
              lum: 60,
              alpha: 0.9,
              twinkle: false,
              trail: true
            });
          }
        }
      }

      function launchRocket(fromX, fromY, toX, toY) {
        const dx = toX - fromX;
        const dy = toY - fromY;

        const vx = clamp(dx / 55, -3, 3);
        const vy = clamp(dy / 55, -8, -4);

        addRocket({
          x: fromX,
          y: fromY,
          vx,
          vy,
          life: 0,
          fuse: rand(35, 70),
          hue: rand(0, 360),
          trail: []
        });
      }

      // Draw helpers
      function fade() {
        ctx.globalCompositeOperation = 'source-over';
        ctx.fillStyle = 'rgba(0,0,0,0.18)';
        ctx.fillRect(0, 0, w, h);
      }

      function drawParticle(p) {
        if (p.trail && !prefersReducedMotion) {
          ctx.beginPath();
          ctx.strokeStyle = hsla(p.hue, p.sat, p.lum, p.alpha * 0.45);
          ctx.lineWidth = 1;
          ctx.moveTo(p.x, p.y);
          ctx.lineTo(p.x - p.vx * 1.8, p.y - p.vy * 1.8);
          ctx.stroke();
        }

        const tw = p.twinkle ? (Math.sin(performance.now() / 60 + p.x) * 0.35 + 0.65) : 1;
        ctx.beginPath();
        ctx.fillStyle = hsla(p.hue, p.sat, p.lum, p.alpha * tw);
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fill();
      }

      function drawRocket(r) {
        r.trail.push({ x: r.x, y: r.y });
        if (r.trail.length > 12) r.trail.shift();

        if (!prefersReducedMotion) {
          ctx.beginPath();
          ctx.strokeStyle = hsla(r.hue, 90, 70, 0.55);
          ctx.lineWidth = 2;
          for (let i = 0; i < r.trail.length; i++) {
            const t = r.trail[i];
            if (i === 0) ctx.moveTo(t.x, t.y);
            else ctx.lineTo(t.x, t.y);
          }
          ctx.stroke();
        }

        ctx.beginPath();
        ctx.fillStyle = hsla(r.hue, 95, 65, 1);
        ctx.arc(r.x, r.y, 2.2, 0, Math.PI * 2);
        ctx.fill();
      }

      // Animation loop
      let last = performance.now();
      function tick(now) {
        const dt = Math.min(32, now - last);
        last = now;

        fade();

        for (let i = rockets.length - 1; i >= 0; i--) {
          const r = rockets[i];
          r.life += 1;

          r.x += r.vx * (dt / 16);
          r.y += r.vy * (dt / 16);

          r.vx *= air;
          r.vy *= air;
          r.vy += gravity * 0.35 * (dt / 16);

          drawRocket(r);

          const out = r.y < -40 || r.x < -40 || r.x > w + 40;
          if (r.life >= r.fuse || out) {
            burst(r.x, r.y, rand(0.9, 1.35));
            rockets.splice(i, 1);
          }
        }

        for (let i = particles.length - 1; i >= 0; i--) {
          const p = particles[i];

          p.x += p.vx * (dt / 16);
          p.y += p.vy * (dt / 16);
          p.vx *= air;
          p.vy *= air;
          p.vy += gravity * (dt / 16);

          p.life -= 1;
          const lifeRatio = p.life / (p.maxLife || (p.maxLife = p.life + 1));
          p.alpha = clamp(lifeRatio, 0, 1);

          drawParticle(p);

          if (p.life <= 0 || p.y > h + 40) {
            particles.splice(i, 1);
          }
        }

        requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);

      // Extra fireworks on click/tap
      function pointerPos(e) {
        if (e.touches && e.touches.length) return { x: e.touches[0].clientX, y: e.touches[0].clientY };
        return { x: e.clientX, y: e.clientY };
      }

      function onTap(e) {
        const { x, y } = pointerPos(e);
        if (Math.random() < 0.55) {
          launchRocket(rand(w * 0.2, w * 0.8), h + 10, x, y);
          launchRocket(rand(w * 0.2, w * 0.8), h + 10, x + rand(-80, 80), y + rand(-30, 30));
        } else {
          burst(x, y, rand(0.9, 1.2));
        }
      }
      window.addEventListener('pointerdown', onTap, { passive: true });

      // AUTO (siempre encendido)
      function autoLoop() {
        const x = rand(w * 0.15, w * 0.85);
        const y = rand(h * 0.12, h * 0.55);

        if (Math.random() < 0.62) {
          launchRocket(rand(w * 0.2, w * 0.8), h + 10, x, y);
        } else {
          burst(x, y, rand(0.9, 1.3));
        }

        setTimeout(autoLoop, rand(520, 920));
      }
      autoLoop();

      // Arranque bonito
      setTimeout(() => burst(w * 0.25, h * 0.25, 1.2), 350);
      setTimeout(() => burst(w * 0.70, h * 0.30, 1.1), 650);
      setTimeout(() => launchRocket(w * 0.55, h + 10, w * 0.55, h * 0.25), 900);
    })();
  </script>
</body>
</html>
